"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[823],{24918:(e,o,t)=>{t.d(o,{X:()=>i,r:()=>a});var i=function(e){return e.MIP="Mip",e.CROSSHAIR="Crosshairs",e.SLAB="Slab",e.WINDOW_LEVEL="WindowLevel",e.STACK_SCROLL="StackScroll",e.ZOOM="Zoom",e.PAN="Pan",e}(i||{}),a=function(e){return e.PORTRAIT="portrait",e.LANDSCAPE="landscape",e}(a||{})},83503:(e,o,t)=>{t.d(o,{Z:()=>i});const i={axial:"rgba(0, 255, 240)",sagittal:"rgba(251, 62, 255)",coronal:"rgba(255, 214, 0)"}},98823:(e,o,t)=>{t.r(o),t.d(o,{default:()=>v});const i={1:{description:"Brain",window:"80",level:"40"},2:{description:"Subdural",window:"300",level:"100"},3:{description:"Stroke",window:"40",level:"40"},4:{description:"Soft Tissue",window:"400",level:"60"},5:{description:"Temporal Bones",window:"2800",level:"600"}},a=[{commandName:"setToolActive",commandOptions:{toolName:"Zoom"},label:"Zoom",keys:["z"],isEditable:!0},{commandName:"scaleUpViewport",label:"Zoom In",keys:["+"],isEditable:!0},{commandName:"scaleDownViewport",label:"Zoom Out",keys:["-"],isEditable:!0},{commandName:"fitViewportToWindow",label:"Zoom to Fit",keys:["="],isEditable:!0},{commandName:"rotateViewportCW",label:"Rotate Right",keys:["r"],isEditable:!0},{commandName:"rotateViewportCCW",label:"Rotate Left",keys:["l"],isEditable:!0},{commandName:"flipViewportHorizontal",label:"Flip Horizontally",keys:["h"],isEditable:!0},{commandName:"flipViewportVertical",label:"Flip Vertically",keys:["v"],isEditable:!0},{commandName:"toggleCine",label:"Cine",keys:["c"]},{commandName:"invertViewport",label:"Invert",keys:["i"],isEditable:!0},{commandName:"incrementActiveViewport",label:"Next Image Viewport",keys:["right"],isEditable:!0},{commandName:"decrementActiveViewport",label:"Previous Image Viewport",keys:["left"],isEditable:!0},{commandName:"nextViewportDisplaySet",label:"Next Series",keys:["pageup"],isEditable:!0},{commandName:"previousViewportDisplaySet",label:"Previous Series",keys:["pagedown"],isEditable:!0},{commandName:"nextImage",label:"Next Image",keys:["down"],isEditable:!0},{commandName:"previousImage",label:"Previous Image",keys:["up"],isEditable:!0},{commandName:"firstImage",label:"First Image",keys:["home"],isEditable:!0},{commandName:"lastImage",label:"Last Image",keys:["end"],isEditable:!0},{commandName:"resetViewport",label:"Reset",keys:["space"],isEditable:!0},{commandName:"cancelMeasurement",label:"Cancel Cornerstone Measurement",keys:["esc"]},{commandName:"setWindowLevel",commandOptions:i[1],label:"W/L Preset 1",keys:["1"]},{commandName:"setWindowLevel",commandOptions:i[2],label:"W/L Preset 2",keys:["2"]},{commandName:"setWindowLevel",commandOptions:i[3],label:"W/L Preset 3",keys:["3"]}],n=JSON.parse('{"u2":"@ischemaview/dicom-anr-rma"}').u2;var r=t(83503),s=t(27179);const l=function(e,o,t,i){!function(e,o,t,i){const a=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{ToolGroupService:n,CornerstoneViewportService:l,ViewportGridService:d,TrackingEventService:c,toolbarService:m,stateSyncService:p}=o.services,{toolNames:u,Enums:v}=a.exports,w={active:[{toolName:u.Zoom,bindings:[{numTouchPoints:2}]},{toolName:u.WindowLevel,bindings:[{numTouchPoints:3}]},{toolName:u.StackScroll,bindings:[{mouseButton:v.MouseBindings.Primary}]},{toolName:u.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:u.Pan}],disabled:[{toolName:u.Crosshairs}]},S={[u.Crosshairs]:{viewportIndicators:!1,autoPan:{enabled:!1,panSize:10},getReferenceLineColor:e=>{const o=l.getCornerstoneViewport(e);return r.Z[o?.options?.orientation]},onDragHook:e=>{e.map((e=>{const o=e.data.viewportId,t=l.getCornerstoneViewport(o);t.element.style.border=`4px solid ${r.Z[t?.options?.orientation]}`}))},onEndHook:()=>{c.trackCrosshairChange();const e=d.getState().viewports;for(const[o,t]of e.entries()){const e=l.getCornerstoneViewport(t.viewportId);e.element.style.border=`1px solid ${r.Z[e?.options?.orientation]}`}},mobile:{enabled:!0,opacity:.5,handleRadius:9},jumpThreshold:30},[u.WindowLevel]:{defaultWindowLevelMultiplier:i.defaultWindowLevelMultiplier,defaultWindowRange:i.defaultWindowRange,onEndHook:e=>{if("WindowLevel"==m.getActiveTools()[0]){const o=l.getCornerstoneViewport(e.viewportId).getProperties().voiRange,t={viewportId:e.viewportId,range:o,volumeId:e.volumeId};(0,s.triggerEvent)(e.element,s.Enums.Events.VOI_MODIFIED,t)}}},[u.Zoom]:{zoomFactor:2,zoomToCenter:!0,onZoomChange:e=>{const o=p.getState().rapidIconState;o.zoomValueChange[e]=!0,p.store({rapidIconState:o})}},[u.StackScroll]:{mipMode:{enabled:!1}}};n.createToolGroupAndAddTools("ctToolGroup",w,S)}(e,o,0,i)};var d=t(24918);const c="@ohif/extension-default.sopClassHandlerModule.stack",m="@ischemaview/dicom-rapidai-extension.layoutTemplateModule.viewerLayout",p="@ischemaview/dicom-rapidai-extension.viewportModule.rapidai-cornerstone-anr-rma",u={};const v={id:n,modeFactory:function(e){let{modeConfiguration:o}=e;return{id:n,routeName:"anrRMA",displayName:"ANR RMA",onModeEnter:e=>{let{servicesManager:o,extensionManager:t,commandsManager:i,appConfig:a}=e;const{ToolBarService:n,TouchService:r,CacheAPIService:s,OrientationService:c,stateSyncService:m,ImageShareService:p}=o.services;r.init(),s.init(),c.init(),p.init("MOBILE"),l(t,o,i,a),n.recordInteraction({groupId:"ctDisplaySet",itemId:"StackScroll",interactionType:"tool",commands:[{commandName:"setToolActive",commandOptions:{toolName:"StackScroll",toolGroupId:"ctToolGroup"},context:"CORNERSTONE"}]});const u={crosshairEnabled:!0,activateTool:d.X.STACK_SCROLL,hideMetaData:!1,zoomValueChange:{}};m.store({rapidIconState:u}),n.init(t)},onModeExit:e=>{let{servicesManager:o}=e;const{ToolGroupService:t,SyncGroupService:i,MeasurementService:a,ToolBarService:n,TouchService:r,CacheAPIService:s,OrientationService:l}=o.services;n.reset(),a.clearMeasurements(),t.destroy(),i.destroy(),r.destroy(),s.destory(),l.destroy()},validationTags:{study:[],series:[]},isValidMode:e=>{let{modalities:o}=e;return!o.split("\\").includes("SM")},routes:[{path:"anrRMA",layoutTemplate:()=>({id:m,props:{colorTheme:"color-scheme-dark",deviceType:"MOBILE",rapidMode:"ANR",viewports:[{namespace:p,displaySetsToDisplay:[c]}],viewerLayoutHeight:"100vh",viewportGridProps:{modeViewportPaneStyles:e=>{let{numViewports:o}=e;return{ohifDisableBorder:!0}}}}})}],extensions:u,hangingProtocol:"@ischemaview/dicom-rapidai-extension.hangingProtocolModule.mpr-axial",sopClassHandlers:[c],hotkeys:[...a]}},extensionDependencies:u}}}]);