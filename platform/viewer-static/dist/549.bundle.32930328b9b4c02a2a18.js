"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[549],{24918:(e,o,t)=>{t.d(o,{NY:()=>r,Xd:()=>a,bJ:()=>l,rE:()=>i,zq:()=>n});var a=function(e){return e.MIP="Mip",e.CROSSHAIR="Crosshairs",e.SLAB="Slab",e.WINDOW_LEVEL="WindowLevel",e.STACK_SCROLL="StackScroll",e.ZOOM="Zoom",e.PAN="Pan",e.TRACKBALL="TrackballRotate",e}(a||{}),i=function(e){return e.PORTRAIT="portrait",e.LANDSCAPE="landscape",e}(i||{}),n=function(e){return e.MPR="mpr3",e.AXIAL="axial",e.SAGITTAL="sagittal",e.CORONAL="coronal",e.AXIAL_SAGITTAL="axial-sagittal",e.AXIAL_CORONAL="axial-coronal",e.CORONAL_SAGITTAL="coronal-sagittal",e.AXIAL_CORONAL_SAGITTAL="axial-coronal-sagittal",e}(n||{}),r=function(e){return e.AXIAL="axial",e.SAGITTAL="sagittal",e.CORONAL="coronal",e}(r||{}),l=function(e){return e.LEFT_CAROTID="cpr-stack-left-carotid",e.RIGHT_CAROTID="cpr-stack-right-carotid",e.LEFT_VERTEBRAL="cpr-stack-left-vertebral",e.RIGHT_VERTEBRAL="cpr-stack-right-vertebral",e}(l||{})},83503:(e,o,t)=>{t.d(o,{Z:()=>a});const a={axial:"rgba(0, 255, 240)",sagittal:"rgba(251, 62, 255)",coronal:"rgba(255, 214, 0)"}},2549:(e,o,t)=>{t.r(o),t.d(o,{default:()=>v});const a={1:{description:"Brain",window:"80",level:"40"},2:{description:"Subdural",window:"300",level:"100"},3:{description:"Stroke",window:"40",level:"40"},4:{description:"Soft Tissue",window:"400",level:"60"},5:{description:"Temporal Bones",window:"2800",level:"600"}},i=[{commandName:"setToolActive",commandOptions:{toolName:"Zoom"},label:"Zoom",keys:["z"],isEditable:!0},{commandName:"scaleUpViewport",label:"Zoom In",keys:["+"],isEditable:!0},{commandName:"scaleDownViewport",label:"Zoom Out",keys:["-"],isEditable:!0},{commandName:"fitViewportToWindow",label:"Zoom to Fit",keys:["="],isEditable:!0},{commandName:"rotateViewportCW",label:"Rotate Right",keys:["r"],isEditable:!0},{commandName:"rotateViewportCCW",label:"Rotate Left",keys:["l"],isEditable:!0},{commandName:"flipViewportHorizontal",label:"Flip Horizontally",keys:["h"],isEditable:!0},{commandName:"flipViewportVertical",label:"Flip Vertically",keys:["v"],isEditable:!0},{commandName:"toggleCine",label:"Cine",keys:["c"]},{commandName:"invertViewport",label:"Invert",keys:["i"],isEditable:!0},{commandName:"incrementActiveViewport",label:"Next Image Viewport",keys:["right"],isEditable:!0},{commandName:"decrementActiveViewport",label:"Previous Image Viewport",keys:["left"],isEditable:!0},{commandName:"nextViewportDisplaySet",label:"Next Series",keys:["pageup"],isEditable:!0},{commandName:"previousViewportDisplaySet",label:"Previous Series",keys:["pagedown"],isEditable:!0},{commandName:"nextImage",label:"Next Image",keys:["down"],isEditable:!0},{commandName:"previousImage",label:"Previous Image",keys:["up"],isEditable:!0},{commandName:"firstImage",label:"First Image",keys:["home"],isEditable:!0},{commandName:"lastImage",label:"Last Image",keys:["end"],isEditable:!0},{commandName:"resetViewport",label:"Reset",keys:["space"],isEditable:!0},{commandName:"cancelMeasurement",label:"Cancel Cornerstone Measurement",keys:["esc"]},{commandName:"setWindowLevel",commandOptions:a[1],label:"W/L Preset 1",keys:["1"]},{commandName:"setWindowLevel",commandOptions:a[2],label:"W/L Preset 2",keys:["2"]},{commandName:"setWindowLevel",commandOptions:a[3],label:"W/L Preset 3",keys:["3"]}],n=JSON.parse('{"u2":"@ischemaview/dicom-rma"}').u2;var r=t(83503),l=t(82125);const s=function(e,o,t,a){!function(e,o,t,a){const i=e.getModuleEntry("@ohif/extension-cornerstone.utilityModule.tools"),{ToolGroupService:n,CornerstoneViewportService:s,ViewportGridService:c,TrackingEventService:d,toolbarService:m,stateSyncService:p}=o.services,{toolNames:u,Enums:v}=i.exports,S={active:[{toolName:u.Zoom,bindings:[{numTouchPoints:2}],configuration:{zoomFactor:2,zoomToCenter:!0,onZoomChange:e=>{t.runCommand("storeZoomFactor",{toolGroupId:"ctToolGroup",viewportId:e})}}},{toolName:u.WindowLevel,bindings:[{numTouchPoints:3}],configuration:{defaultWindowLevelMultiplier:a.defaultWindowLevelMultiplier,defaultWindowRange:a.defaultWindowRange,onEndHook:e=>{if("WindowLevel"==m.getActiveTools()[0]){const o=s.getCornerstoneViewport(e.viewportId).getProperties().voiRange,t={viewportId:e.viewportId,range:o,volumeId:e.volumeId};(0,l.triggerEvent)(e.element,l.Enums.Events.VOI_MODIFIED,t)}}}},{toolName:u.StackScroll,bindings:[{mouseButton:v.MouseBindings.Primary}],configuration:{mipMode:{enabled:!1}}},{toolName:u.StackScrollMouseWheel,bindings:[]}],passive:[{toolName:u.Pan},{toolName:u.TrackballRotateTool,bindings:[]},{toolName:u.OrientationMarkerTool,bindings:[]}],disabled:[{toolName:u.Crosshairs,configuration:{viewportIndicators:!1,autoPan:{enabled:!1,panSize:10},referenceLinesCenterGapRadius:0,getReferenceLineColor:e=>{const o=s.getCornerstoneViewport(e);return r.Z[o?.options?.orientation]},onDragHook:e=>{e.map((e=>{const o=e.data.viewportId,t=s.getCornerstoneViewport(o);t.element.style.border=`4px solid ${r.Z[t?.options?.orientation]}`}))},onEndHook:()=>{d.trackCrosshairChange();const e=c.getState().viewports;for(const[o,t]of e.entries()){const e=s.getCornerstoneViewport(t.viewportId);e.element.style.border=`1px solid ${r.Z[e?.options?.orientation]}`}},onInteraction:e=>{e?m.recordInteraction({groupId:"ctToolGroup",itemId:"StackScroll",interactionType:"tool",commands:[{commandName:"setToolDisabled",commandOptions:{toolName:"StackScroll",toolGroupId:"ctToolGroup"},context:"CORNERSTONE"}]}):m.recordInteraction({groupId:"ctToolGroup",itemId:"StackScroll",interactionType:"tool",commands:[{commandName:"setToolActive",commandOptions:{toolName:"StackScroll",toolGroupId:"ctToolGroup"},context:"CORNERSTONE"}]})},mobile:{enabled:!0,opacity:.5,handleRadius:9},jumpThreshold:30}}]};n.createToolGroupAndAddTools("ctToolGroup",S)}(e,o,t,a)};var c=t(24918);const d="@ohif/extension-default.sopClassHandlerModule.stack",m="@ischemaview/dicom-rapidai-extension.layoutTemplateModule.viewerLayout",p="@ischemaview/dicom-rapidai-extension.viewportModule.rapidai-cornerstone-rma",u={};const v={id:n,modeFactory:function(e){let{modeConfiguration:o}=e;return{id:n,routeName:"dicomRMA",displayName:"Dicom RMA",onModeEnter:e=>{let{servicesManager:o,extensionManager:t,commandsManager:a,appConfig:i}=e;const{ToolBarService:n,TouchService:r,CacheAPIService:l,OrientationService:d,stateSyncService:m,ImageShareService:p,ExternalInterfaceService:u}=o.services;r.init(),l.init(),d.init(),p.init("MOBILE"),s(t,o,a,i),n.recordInteraction({groupId:"ctDisplaySet",itemId:"StackScroll",interactionType:"tool",commands:[{commandName:"setToolActive",commandOptions:{toolName:"StackScroll",toolGroupId:"ctToolGroup"},context:"CORNERSTONE"}]});const v={crosshairEnabled:!1,activateTool:c.Xd.STACK_SCROLL,hideMetaData:!1,zoomValueChange:{},selectedPlanes:[c.NY.AXIAL],multiSelect:!1,cprStage:c.bJ.LEFT_CAROTID};m.store({rapidIconState:v}),n.init(t)},onModeExit:e=>{let{servicesManager:o}=e;const{ToolGroupService:t,SyncGroupService:a,MeasurementService:i,ToolBarService:n,TouchService:r,CacheAPIService:l,OrientationService:s}=o.services;n.reset(),i.clearMeasurements(),t.destroy(),a.destroy(),r.destroy(),l.destory(),s.destroy()},validationTags:{study:[],series:[]},isValidMode:e=>{let{modalities:o}=e;return!o.split("\\").includes("SM")},routes:[{path:"dicomRMA",layoutTemplate:()=>({id:m,props:{colorTheme:"color-scheme-dark",deviceType:"MOBILE",rapidMode:"RMA",viewports:[{namespace:p,displaySetsToDisplay:[d]}],viewerLayoutHeight:"100vh",viewportGridProps:{modeViewportPaneStyles:e=>{let{numViewports:o}=e;return{ohifDisableBorder:!0}}}}})}],extensions:u,hangingProtocol:"@ischemaview/dicom-rapidai-extension.hangingProtocolModule.stack",sopClassHandlers:[d],hotkeys:[...i]}},extensionDependencies:u}}}]);